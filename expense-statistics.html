<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thá»‘ng kÃª Chi tiÃªu - FinTech Education</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#ec4899',secondary:'#64748b'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
<style>
body {
font-family: 'Inter', sans-serif;
}
.custom-scrollbar::-webkit-scrollbar {
width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
background: #f1f5f9;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
background: #cbd5e1;
border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
background: #94a3b8;
}
</style>
</head>
<body class="bg-gray-50 min-h-screen">
<!-- Header -->
<header class="bg-white shadow-sm sticky top-0 z-50">
<div class="flex items-center justify-between px-4 py-3">
<div class="flex items-center space-x-8">
<a href="index.html" class="flex items-center">
<img src="https://static.readdy.ai/image/463e20087823e41977ed319075af2fbf/4b4cac66d51e9f67aef24614e3cbb06a.png" alt="BK Star Logo" class="h-8">
</a>
<nav class="hidden md:flex space-x-6">
<a href="index.html" class="text-sm font-medium text-gray-500 hover:text-primary">Trang chá»§</a>
<a href="expense-tracker.html" class="text-sm font-medium text-gray-500 hover:text-primary">Quáº£n lÃ½ Chi tiÃªu</a>
<a href="#" class="text-sm font-medium text-gray-900 hover:text-primary">Thá»‘ng kÃª</a>
<a href="#" class="text-sm font-medium text-gray-500 hover:text-primary">TÆ° váº¥n</a>
</nav>
</div>
<div class="flex items-center space-x-4">
<div class="w-8 h-8 flex items-center justify-center rounded-full bg-primary flex items-center justify-center text-white text-sm font-medium">VM</div>
<span class="text-sm font-medium hidden md:block">VÅ© Máº¡nh</span>
</div>
</div>
</header>

<div class="flex">
<!-- Sidebar -->
<aside class="w-64 hidden md:block bg-white shadow-sm h-[calc(100vh-56px)] sticky top-[56px] overflow-y-auto custom-scrollbar">
<div class="p-4">
<div class="mb-6">
<h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Quáº£n lÃ½ tÃ i chÃ­nh</h3>
<ul class="space-y-1">
<li>
<a href="expense-tracker.html" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-100">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-add-circle-line"></i>
</div>
ThÃªm chi tiÃªu
</a>
</li>
<li>
<a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg bg-primary/10 text-primary">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-bar-chart-line"></i>
</div>
Thá»‘ng kÃª chi tiÃªu
</a>
</li>
<li>
<a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-100">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-pie-chart-line"></i>
</div>
PhÃ¢n tÃ­ch chi tiÃªu
</a>
</li>
<li>
<a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-100">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-target-line"></i>
</div>
Má»¥c tiÃªu tiáº¿t kiá»‡m
</a>
</li>
</ul>
</div>
<div class="mb-6">
<h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">TÆ° váº¥n AI</h3>
<ul class="space-y-1">
<li>
<a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-100">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-robot-line"></i>
</div>
Chatbot tÆ° váº¥n
</a>
</li>
<li>
<a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-100">
<div class="w-5 h-5 mr-3 flex items-center justify-center">
<i class="ri-lightbulb-line"></i>
</div>
Gá»£i Ã½ tiáº¿t kiá»‡m
</a>
</li>
</ul>
</div>
</div>
</aside>

<!-- Main Content -->
<main class="flex-1 min-w-0">
<div class="p-6">
<!-- Page Header -->
<div class="mb-8">
<h1 class="text-3xl font-bold text-gray-900 mb-2">Thá»‘ng kÃª Chi tiÃªu</h1>
<p class="text-gray-600">PhÃ¢n tÃ­ch chi tiáº¿t vá» thÃ³i quen chi tiÃªu vÃ  xu hÆ°á»›ng tÃ i chÃ­nh cá»§a báº¡n</p>
</div>

<!-- Time Period Selector -->
<div class="bg-white rounded-lg shadow-sm p-6 mb-8">
<div class="flex items-center justify-between mb-6">
<h2 class="text-xl font-semibold text-gray-900">Chá»n khoáº£ng thá»i gian</h2>
<div class="flex space-x-2">
<button class="px-4 py-2 text-sm bg-primary text-white rounded-lg">ThÃ¡ng nÃ y</button>
<button class="px-4 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded-lg">Tuáº§n nÃ y</button>
<button class="px-4 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded-lg">3 thÃ¡ng</button>
<button class="px-4 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded-lg">6 thÃ¡ng</button>
<button class="px-4 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded-lg">NÄƒm nay</button>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Tá»« ngÃ y</label>
<input type="date" id="startDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Äáº¿n ngÃ y</label>
<input type="date" id="endDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
</div>
</div>
</div>

<!-- Summary Cards -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between">
<div>
<p class="text-sm text-gray-500 mb-1">Tá»•ng chi tiÃªu</p>
<p class="text-2xl font-bold text-gray-900" id="totalExpense">9.850.000 â‚«</p>
</div>
<div class="w-12 h-12 flex items-center justify-center rounded-full bg-red-100 text-red-500">
<i class="ri-arrow-up-line text-xl"></i>
</div>
</div>
<div class="mt-4">
<div class="flex items-center text-sm text-red-500">
<i class="ri-arrow-up-line mr-1"></i>
<span>8% so vá»›i thÃ¡ng trÆ°á»›c</span>
</div>
</div>
</div>

<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between">
<div>
<p class="text-sm text-gray-500 mb-1">Chi tiÃªu trung bÃ¬nh/ngÃ y</p>
<p class="text-2xl font-bold text-gray-900" id="dailyAverage">328.333 â‚«</p>
</div>
<div class="w-12 h-12 flex items-center justify-center rounded-full bg-blue-100 text-blue-500">
<i class="ri-calendar-line text-xl"></i>
</div>
</div>
<div class="mt-4">
<div class="flex items-center text-sm text-blue-500">
<i class="ri-trending-up-line mr-1"></i>
<span>Xu hÆ°á»›ng tÄƒng</span>
</div>
</div>
</div>

<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between">
<div>
<p class="text-sm text-gray-500 mb-1">Danh má»¥c chi nhiá»u nháº¥t</p>
<p class="text-2xl font-bold text-gray-900">Ä‚n uá»‘ng</p>
</div>
<div class="w-12 h-12 flex items-center justify-center rounded-full bg-orange-100 text-orange-500">
<i class="ri-restaurant-line text-xl"></i>
</div>
</div>
<div class="mt-4">
<div class="flex items-center text-sm text-orange-500">
<i class="ri-pie-chart-line mr-1"></i>
<span>32% tá»•ng chi tiÃªu</span>
</div>
</div>
</div>

<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between">
<div>
<p class="text-sm text-gray-500 mb-1">Sá»‘ giao dá»‹ch</p>
<p class="text-2xl font-bold text-gray-900" id="totalTransactions">156</p>
</div>
<div class="w-12 h-12 flex items-center justify-center rounded-full bg-green-100 text-green-500">
<i class="ri-exchange-line text-xl"></i>
</div>
</div>
<div class="mt-4">
<div class="flex items-center text-sm text-green-500">
<i class="ri-check-line mr-1"></i>
<span>5.2 giao dá»‹ch/ngÃ y</span>
</div>
</div>
</div>
</div>

<!-- Charts Section -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
<!-- Expense Trend Chart -->
<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between mb-6">
<h3 class="text-lg font-semibold text-gray-900">Xu hÆ°á»›ng chi tiÃªu</h3>
<div class="flex space-x-2">
<button class="px-3 py-1 text-sm bg-primary text-white rounded-full">Theo ngÃ y</button>
<button class="px-3 py-1 text-sm text-gray-500 hover:bg-gray-100 rounded-full">Theo tuáº§n</button>
<button class="px-3 py-1 text-sm text-gray-500 hover:bg-gray-100 rounded-full">Theo thÃ¡ng</button>
</div>
</div>
<div id="trendChart" class="h-80"></div>
</div>

<!-- Category Distribution -->
<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between mb-6">
<h3 class="text-lg font-semibold text-gray-900">PhÃ¢n bá»• theo danh má»¥c</h3>
<button class="text-primary hover:text-primary/80 text-sm font-medium">Xem chi tiáº¿t</button>
</div>
<div id="categoryChart" class="h-80"></div>
</div>
</div>

<!-- Detailed Analysis -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
<!-- Top Categories -->
<div class="bg-white rounded-lg shadow-sm p-6">
<h3 class="text-lg font-semibold text-gray-900 mb-6">Danh má»¥c chi tiÃªu nhiá»u nháº¥t</h3>
<div id="topCategories" class="space-y-4">
<!-- Categories will be populated by JavaScript -->
</div>
</div>

<!-- Spending Patterns -->
<div class="bg-white rounded-lg shadow-sm p-6">
<h3 class="text-lg font-semibold text-gray-900 mb-6">Máº«u chi tiÃªu</h3>
<div class="space-y-6">
<div>
<h4 class="font-medium text-gray-900 mb-3">Chi tiÃªu theo ngÃ y trong tuáº§n</h4>
<div id="weeklyPattern" class="h-48"></div>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-3">Chi tiÃªu theo giá» trong ngÃ y</h4>
<div id="hourlyPattern" class="h-48"></div>
</div>
</div>
</div>
</div>

<!-- Insights and Recommendations -->
<div class="bg-gradient-to-r from-primary/5 to-blue-500/5 rounded-lg p-6 mb-8">
<h3 class="text-lg font-semibold text-gray-900 mb-4">ğŸ’¡ Gá»£i Ã½ thÃ´ng minh</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<h4 class="font-medium text-gray-900 mb-2">Tiáº¿t kiá»‡m tiá»m nÄƒng</h4>
<p class="text-sm text-gray-600 mb-3">Dá»±a trÃªn phÃ¢n tÃ­ch chi tiÃªu cá»§a báº¡n, báº¡n cÃ³ thá»ƒ tiáº¿t kiá»‡m thÃªm:</p>
<div class="space-y-2">
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Giáº£m chi tiÃªu Äƒn uá»‘ng 10%</span>
<span class="font-medium text-green-600">+315.000 â‚«/thÃ¡ng</span>
</div>
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Tá»‘i Æ°u chi phÃ­ di chuyá»ƒn</span>
<span class="font-medium text-green-600">+180.000 â‚«/thÃ¡ng</span>
</div>
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Giáº£m chi tiÃªu giáº£i trÃ­</span>
<span class="font-medium text-green-600">+120.000 â‚«/thÃ¡ng</span>
</div>
</div>
</div>
<div>
<h4 class="font-medium text-gray-900 mb-2">Má»¥c tiÃªu Ä‘á» xuáº¥t</h4>
<p class="text-sm text-gray-600 mb-3">Dá»±a trÃªn thu nháº­p vÃ  chi tiÃªu hiá»‡n táº¡i:</p>
<div class="space-y-2">
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Quá»¹ kháº©n cáº¥p (6 thÃ¡ng)</span>
<span class="font-medium text-blue-600">45.000.000 â‚«</span>
</div>
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Tiáº¿t kiá»‡m cho nghá»‰ hÆ°u</span>
<span class="font-medium text-blue-600">2.000.000 â‚«/thÃ¡ng</span>
</div>
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600">Äáº§u tÆ° dÃ i háº¡n</span>
<span class="font-medium text-blue-600">1.500.000 â‚«/thÃ¡ng</span>
</div>
</div>
</div>
</div>
</div>

<!-- Export Options -->
<div class="bg-white rounded-lg shadow-sm p-6">
<div class="flex items-center justify-between">
<div>
<h3 class="text-lg font-semibold text-gray-900">Xuáº¥t bÃ¡o cÃ¡o</h3>
<p class="text-sm text-gray-600">Táº£i xuá»‘ng bÃ¡o cÃ¡o chi tiáº¿t vá» tÃ¬nh hÃ¬nh tÃ i chÃ­nh cá»§a báº¡n</p>
</div>
<div class="flex space-x-3">
<button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center">
<i class="ri-file-pdf-line mr-2"></i>
PDF
</button>
<button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center">
<i class="ri-file-excel-line mr-2"></i>
Excel
</button>
<button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center">
<i class="ri-download-line mr-2"></i>
Táº£i xuá»‘ng
</button>
</div>
</div>
</div>
</div>
</main>
</div>

<script>
// Sample data for demonstration
const expenseData = {
monthly: [
{ date: '2025-01-01', amount: 320000, category: 'food' },
{ date: '2025-01-02', amount: 150000, category: 'transport' },
{ date: '2025-01-03', amount: 450000, category: 'shopping' },
{ date: '2025-01-04', amount: 200000, category: 'entertainment' },
{ date: '2025-01-05', amount: 180000, category: 'food' },
{ date: '2025-01-06', amount: 300000, category: 'health' },
{ date: '2025-01-07', amount: 250000, category: 'food' },
{ date: '2025-01-08', amount: 120000, category: 'transport' },
{ date: '2025-01-09', amount: 350000, category: 'shopping' },
{ date: '2025-01-10', amount: 180000, category: 'food' },
{ date: '2025-01-11', amount: 200000, category: 'entertainment' },
{ date: '2025-01-12', amount: 150000, category: 'transport' },
{ date: '2025-01-13', amount: 280000, category: 'food' },
{ date: '2025-01-14', amount: 400000, category: 'shopping' },
{ date: '2025-01-15', amount: 220000, category: 'food' }
],
categories: {
food: { name: 'Ä‚n uá»‘ng', amount: 3200000, percentage: 32, color: '#ef4444' },
transport: { name: 'Di chuyá»ƒn', amount: 1200000, percentage: 12, color: '#3b82f6' },
shopping: { name: 'Mua sáº¯m', amount: 2500000, percentage: 25, color: '#8b5cf6' },
entertainment: { name: 'Giáº£i trÃ­', amount: 800000, percentage: 8, color: '#f59e0b' },
health: { name: 'Y táº¿', amount: 1000000, percentage: 10, color: '#10b981' },
education: { name: 'GiÃ¡o dá»¥c', amount: 600000, percentage: 6, color: '#06b6d4' },
utilities: { name: 'Tiá»‡n Ã­ch', amount: 500000, percentage: 5, color: '#f97316' },
other: { name: 'KhÃ¡c', amount: 200000, percentage: 2, color: '#6b7280' }
},
weeklyPattern: [
{ day: 'Thá»© 2', amount: 450000 },
{ day: 'Thá»© 3', amount: 320000 },
{ day: 'Thá»© 4', amount: 280000 },
{ day: 'Thá»© 5', amount: 350000 },
{ day: 'Thá»© 6', amount: 520000 },
{ day: 'Thá»© 7', amount: 680000 },
{ day: 'Chá»§ nháº­t', amount: 420000 }
],
hourlyPattern: [
{ hour: '6-8h', amount: 120000 },
{ hour: '8-10h', amount: 180000 },
{ hour: '10-12h', amount: 250000 },
{ hour: '12-14h', amount: 450000 },
{ hour: '14-16h', amount: 200000 },
{ hour: '16-18h', amount: 300000 },
{ hour: '18-20h', amount: 380000 },
{ hour: '20-22h', amount: 220000 },
{ hour: '22-24h', amount: 150000 }
]
};

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
// Set default date range (current month)
const today = new Date();
const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);

document.getElementById('startDate').value = firstDay.toISOString().split('T')[0];
document.getElementById('endDate').value = lastDay.toISOString().split('T')[0];

updateStats();
renderTrendChart();
renderCategoryChart();
renderTopCategories();
renderWeeklyPattern();
renderHourlyPattern();
});

// Update statistics
function updateStats() {
const totalExpense = Object.values(expenseData.categories).reduce((sum, cat) => sum + cat.amount, 0);
const dailyAverage = totalExpense / 30;
const totalTransactions = expenseData.monthly.length;

document.getElementById('totalExpense').textContent = formatCurrency(totalExpense);
document.getElementById('dailyAverage').textContent = formatCurrency(dailyAverage);
document.getElementById('totalTransactions').textContent = totalTransactions;
}

// Format currency
function formatCurrency(amount) {
return new Intl.NumberFormat('vi-VN', {
style: 'currency',
currency: 'VND'
}).format(amount);
}

// Render trend chart
function renderTrendChart() {
const chart = echarts.init(document.getElementById('trendChart'));
const dates = expenseData.monthly.map(item => item.date);
const amounts = expenseData.monthly.map(item => item.amount);

const option = {
tooltip: {
trigger: 'axis',
backgroundColor: 'rgba(255, 255, 255, 0.9)',
borderColor: '#f1f5f9',
textStyle: { color: '#1f2937' }
},
grid: {
left: '3%',
right: '4%',
bottom: '3%',
containLabel: true
},
xAxis: {
type: 'category',
boundaryGap: false,
data: dates,
axisLine: { lineStyle: { color: '#e2e8f0' } },
axisLabel: { color: '#64748b' }
},
yAxis: {
type: 'value',
axisLine: { show: false },
axisLabel: { 
color: '#64748b',
formatter: function(value) {
return (value / 1000) + 'k';
}
},
splitLine: { lineStyle: { color: '#e2e8f0' } }
},
series: [{
name: 'Chi tiÃªu',
type: 'line',
smooth: true,
lineStyle: { width: 3, color: '#ec4899' },
areaStyle: {
color: {
type: 'linear',
x: 0, y: 0, x2: 0, y2: 1,
colorStops: [
{ offset: 0, color: 'rgba(236, 72, 153, 0.3)' },
{ offset: 1, color: 'rgba(236, 72, 153, 0.05)' }
]
}
},
data: amounts
}]
};

chart.setOption(option);
}

// Render category chart
function renderCategoryChart() {
const chart = echarts.init(document.getElementById('categoryChart'));
const categories = Object.entries(expenseData.categories).map(([key, data]) => ({
name: data.name,
value: data.amount,
itemStyle: { color: data.color }
}));

const option = {
tooltip: {
trigger: 'item',
formatter: '{a} <br/>{b}: {c} ({d}%)'
},
legend: {
orient: 'vertical',
left: 'left',
textStyle: { color: '#1f2937' }
},
series: [{
name: 'Chi tiÃªu',
type: 'pie',
radius: ['40%', '70%'],
avoidLabelOverlap: false,
itemStyle: {
borderRadius: 8,
borderColor: '#fff',
borderWidth: 2
},
label: { show: false },
emphasis: {
label: { show: false }
},
labelLine: { show: false },
data: categories
}]
};

chart.setOption(option);
}

// Render top categories
function renderTopCategories() {
const container = document.getElementById('topCategories');
const sortedCategories = Object.entries(expenseData.categories)
.sort(([,a], [,b]) => b.amount - a.amount)
.slice(0, 5);

container.innerHTML = '';

sortedCategories.forEach(([key, data], index) => {
const categoryElement = document.createElement('div');
categoryElement.className = 'flex items-center justify-between';
categoryElement.innerHTML = `
<div class="flex items-center">
<div class="w-8 h-8 flex items-center justify-center rounded-full text-white text-sm font-bold mr-3" style="background-color: ${data.color}">
${index + 1}
</div>
<div>
<p class="font-medium text-gray-900">${data.name}</p>
<p class="text-sm text-gray-500">${data.percentage}% tá»•ng chi tiÃªu</p>
</div>
</div>
<div class="text-right">
<p class="font-semibold text-gray-900">${formatCurrency(data.amount)}</p>
<div class="w-20 bg-gray-200 rounded-full h-2 mt-1">
<div class="h-2 rounded-full" style="width: ${data.percentage}%; background-color: ${data.color}"></div>
</div>
</div>
`;
container.appendChild(categoryElement);
});
}

// Render weekly pattern
function renderWeeklyPattern() {
const chart = echarts.init(document.getElementById('weeklyPattern'));
const days = expenseData.weeklyPattern.map(item => item.day);
const amounts = expenseData.weeklyPattern.map(item => item.amount);

const option = {
tooltip: {
trigger: 'axis',
backgroundColor: 'rgba(255, 255, 255, 0.9)',
borderColor: '#f1f5f9',
textStyle: { color: '#1f2937' }
},
grid: {
left: '3%',
right: '4%',
bottom: '3%',
containLabel: true
},
xAxis: {
type: 'category',
data: days,
axisLine: { lineStyle: { color: '#e2e8f0' } },
axisLabel: { color: '#64748b' }
},
yAxis: {
type: 'value',
axisLine: { show: false },
axisLabel: { 
color: '#64748b',
formatter: function(value) {
return (value / 1000) + 'k';
}
},
splitLine: { lineStyle: { color: '#e2e8f0' } }
},
series: [{
name: 'Chi tiÃªu',
type: 'bar',
data: amounts,
itemStyle: {
color: '#ec4899',
borderRadius: [4, 4, 0, 0]
}
}]
};

chart.setOption(option);
}

// Render hourly pattern
function renderHourlyPattern() {
const chart = echarts.init(document.getElementById('hourlyPattern'));
const hours = expenseData.hourlyPattern.map(item => item.hour);
const amounts = expenseData.hourlyPattern.map(item => item.amount);

const option = {
tooltip: {
trigger: 'axis',
backgroundColor: 'rgba(255, 255, 255, 0.9)',
borderColor: '#f1f5f9',
textStyle: { color: '#1f2937' }
},
grid: {
left: '3%',
right: '4%',
bottom: '3%',
containLabel: true
},
xAxis: {
type: 'category',
data: hours,
axisLine: { lineStyle: { color: '#e2e8f0' } },
axisLabel: { color: '#64748b' }
},
yAxis: {
type: 'value',
axisLine: { show: false },
axisLabel: { 
color: '#64748b',
formatter: function(value) {
return (value / 1000) + 'k';
}
},
splitLine: { lineStyle: { color: '#e2e8f0' } }
},
series: [{
name: 'Chi tiÃªu',
type: 'line',
smooth: true,
lineStyle: { width: 3, color: '#3b82f6' },
areaStyle: {
color: {
type: 'linear',
x: 0, y: 0, x2: 0, y2: 1,
colorStops: [
{ offset: 0, color: 'rgba(59, 130, 246, 0.3)' },
{ offset: 1, color: 'rgba(59, 130, 246, 0.05)' }
]
}
},
data: amounts
}]
};

chart.setOption(option);
}

// Handle window resize
window.addEventListener('resize', function() {
const charts = ['trendChart', 'categoryChart', 'weeklyPattern', 'hourlyPattern'];
charts.forEach(chartId => {
const chart = echarts.getInstanceByDom(document.getElementById(chartId));
if (chart) {
chart.resize();
}
});
});
</script>
</body>
</html>
